# _Проект к практикуму SDET: UI-тесты_

В проекте использованы:
* Selenium Webdriver (браузер Chrome)
* Фреймворк Pytest
* Реализовано формирование отчетов Allure
* Реализован параллельный запуск тестов
* Реализован запуск в системе CI/CD

Версия Python 3.11

Браузер Chrome скачивается и устанавливается автоматически посредством ChromeDriverManager
____
Установка и запуск:
1. Склонировать репозиторий: `git clone https://github.com/Lyudmila87/Bank_customer_actions.git`
2. Перейти в директорию проекта
3. Создать виртуальное окружение `python -m venv venv`
4. Активировать окружение: `venv\Scripts\activate`
5. Установка зависимостей `pip install -r requirements.txt`
6. Запустить тесты параллельно `pytest --alluredir=allure_report -v -n 4 -m "ui"`
7. Запустить allure-отчет `allure serve allure_report`
____
К проекту оформлены тест-кейсы на основании чек-листа для тестирования приложения банка.

> Чек-лист:
>1. Создание клиента (Add Customer). 
>При создании тестовых данных для полей Post Code и First Name необходимо:
>* для поля Post Code сгенерировать номер из 10 цифр
>* для поля First Name сгенерировать имя на основе Post Code согласно следующей логике:
>  * Post Code условно разбиваем на двузначные цифры (получится 5 цифр)
>  * Каждую цифру преобразовываем в букву английского алфавита по порядку от 0 до 25. Если цифра больше 25, то начинаем с 26 как с 0. Т.е. 0 - a, 26 - тоже a, 52 – тоже a, и т.д.
>Пример: 0001252667 = abzap
>2. Сортировка клиентов по имени (First Name).
>3. Удаление клиента.
>При поиске клиента на удаление необходимо:
>* Получить из таблицы Customers список имен. Узнать длину каждого имени, затем найти среднее 
арифметическое получившихся длин и удалить клиента с тем именем, у которого длина будет ближе 
к среднему арифметическому. Пример: список имен - Albus, Neville, Voldemort. Длины имен – 5, 7, 9 соответственно. 
Среднее арифметическое длин – 7, удаляем имя Neville.

### Тест-кейс 'Создание клиента'

Цель: Проверить создание клиента

Предусловие:
- Открыть браузер

Шаги:
1. Перейти на страницу XYZ Bank
2. Нажать кнопку 'Add Customer'
3. Ввести значение "Post Code", состоящее из любых 10 цифр
4. Рассчитать и ввести значение "First Name" по следующей формуле:
     - Post Code разбивается на двузначные числа
     - Каждое число преобразовывается в букву английского алфавита по порядку от 0 до 25
5. Ввести любое значение "Last Name" 
5. Нажать кнопку 'Add Customer', расположенную под полями для ввода значений
6. Убедиться, что появилось всплывающее окно с надписью "Customer added successfully with customer id"

Постусловие:
- Удалить добавленного клиента
- Закрыть браузер

Ожидаемый результат:
-  в таблицу добавлен новый клиент

### Тест-кейс 'Сортировка клиентов по имени в обратном алфавитном порядке'
 Цель: Проверить сортировку имен в обратном алфавитном порядке

 Предусловие:
  - открыть браузер
  - добавить нового клиента 

 Шаги:
 1. Перейти на страницу XYZ Bank
 2. Нажать кнопку 'Customers'
 3. Нажать на гиперссылку 'First Name'
 4. Убедиться, что значения отсортированы в обратном алфавитном порядке
 
 Постусловие:
  - Удалить добавленного клиента
  - Закрыть браузер
 
 Ожидаемый результат:
  -  в колонке First Name значения сортируются в обратном алфавитном порядке

### Тест-кейс 'Сортировка клиентов по имени в алфавитном порядке'
Цель: Проверить сортировку имен в прямом алфавитном порядке

Предусловие:
  - открыть браузер
  - добавить нового клиента 

 Шаги:
 1. Перейти на страницу XYZ Bank
 2. Нажать кнопку 'Customers'
 3. Нажать на гиперссылку 'First Name'
 4. Повторно нажать на гиперссылку 'First Name'
 5. Убедиться, что значения отсортированы в алфавитном порядке 

Постусловие:
  - Удалить добавленного клиента
  - Закрыть браузер

 Ожидаемый результат:
  -  в колонке First Name значения сортируются в прямом алфавитном порядке

### Тест-кейс 'Удаление клиента'
Цель: Проверить удаление клиента из таблицы

Предусловие:
- открыть браузер
- добавить нового клиента 

Шаги:
1. Перейти на страницу XYZ Bank
2. Нажать кнопку 'Customers'
3. Определить имена для удаления, согласно алгоритма:
    - Получить из таблицы Customers список имен 
    - Узнать длину каждого имени
    - Найти среднее арифметическое получившихся длин 
    - Удалить клиента с тем именем, у которого длина будет ближе к среднему арифметическому
4. Убедиться, что после удаления в таблице остались записи, которые не попали под условия алгоритма

Постусловие:
- Закрыть браузер

Ожидаемый результат:
-  из таблицы удалена запись
